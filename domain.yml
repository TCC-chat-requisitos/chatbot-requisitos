version: "3.1"

intents:
  - greet
  - affirm_user_knows_user_story
  - deny_user_knows_user_story
  - start_extracting_user_story_title

responses:
  utter_greet:
  - text: "Hello! I'm a bot."

  utter_explain_objective:
  - text: "I'm here to help you create a User Story."

  utter_ask_if_user_knows_user_story:
  - text: "Do you know what a User Story is?"
    buttons:
    - title: "Yes"
      payload: "I do know what a User Story is"
    - title: "No"
      payload: "No, I don't know what a User Story is"

  utter_ask_if_user_understood_explanation:
  - text: "Did you understand what a User Story is?"
    buttons:
    - title: "Yes"
      payload: "I understood what a User Story is"
    - title: "No"
      payload: "No, I don't understood what a User Story is"

  utter_explain_user_story:
  - text: "A User Story is a tool used in Agile software development to capture a description of a software feature from an end-user perspective. The user story describes the type of user, what they want and why. A user story helps to create a simplified description of a requirement."

  utter_move_to_title_step:
  - text: "Great! Let's get started with the title?"
    buttons:
      - title: "Yes"
        payload: "Yes, let's get started with the title"

  utter_ask_for_title:
  - text: "Please, tell me the title of the User Story"

  utter_confirm_title:
  - text: "The title of the User Story is {user_story_title}. Is that correct?"
    buttons:
      - title: "Yes"
        payload: "Yes, the title is correct"
      - title: "No"
        payload: "No, the title is not correct"

forms:
  user_story_form:
    required_slots:
      - user_story_title

slots:
  user_story_title:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: user_story_form
        requested_slot: user_story_title

session_config:
  session_expiration_time: 300
  carry_over_slots_to_new_session: true
